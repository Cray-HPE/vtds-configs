# Cluster layer for a simple Ubuntu / KVM POC vTDS
cluster:
  networks:
    test_network:
      network_name: testnet
      tunnel_id: 10
      devices:
        bridge: br-testnet
        tunnel: testnet
        local:
          peer: bl-testnet-p
          interface: bl-testnet
      blade_interconnect: test-interconnect
      connected_blade_classes:
        - test-blade-type-1
        - test-blade-type-2
      l3_configs:
        ipv4:
          address_family: AF_INET
          cidr: 10.255.0.0/16
          gateway: 10.255.0.1
          name_servers:
            - 10.1.1.1
            - 10.1.1.2
            - 10.1.1.3
          dhcp:
            enabled: true
            dynamic_range:
              start: 10.255.1.0
              end: 10.255.255.254
            blade_host:
              blade_ip: 10.255.0.1
              blade_class: test-blade-type-1
              blade_instance: 0
  node_classes:
    demo_1:
      pure_base_class: false
      parent_class: ubuntu_24_04_node
      node_count: 3
      host_blade:
        instance_capacity: 1
      node_naming:
        mode: numbered
        base_name: demo-1
      network_interfaces:
        test_network:
          cluster_network: testnet
          addressing:
            ipv4:
              address_family: AF_INET
              mode: dynamic
              addresses: null
    demo_2:
      pure_base_class: false
      parent_class: ubuntu_24_04_node
      node_count: 1
      host_blade:
        instance_capacity: 1
      node_naming:
        mode: numbered
        base_name: demo-2
      network_interfaces:
        test_network:
          cluster_network: testnet
          addressing:
            ipv4:
              address_family: AF_INET
              mode: dynamic
              addresses: null
